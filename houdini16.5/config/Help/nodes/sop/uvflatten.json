{"body": [{"indent": 0, "text": ["UV Flatten"], "type": "title", "level": 0}, {"indent": 0, "type": "summary", "text": ["Creates flattened pieces in texture space from 3D geometry."]}, {"body": [{"indent": 0, "type": "para", "text": ["To apply a texture image to a 3D model, you must first create ", {"text": ["flattened"], "type": "em"}, " version of the 3D geometry in texture space, so the computer knows how to map pixels in the flat image onto points on the 3D surface. This flattened representation of the model is stored as UV coordinates in an attribute (usually ", {"text": ["uv"], "type": "code"}, ") on each vertex of the geometry."]}, {"indent": 0, "type": "para", "text": ["This node works in two steps. It takes individual texture pieces (defined by ", {"text": ["seams"], "type": "em"}, " that cut the model\u2019s geometry up into smaller pieces that are easier to work with) and ", {"text": ["flattens"], "type": "em"}, " them into 2D texture space, trying to equalize polygon size. Then it lays out or ", {"text": ["packs"], "type": "em"}, " all the flattened pieces into the available texture space as efficiently as possible (using the same algorithm as the ", {"text": ["UV Layout node"], "fullpath": "/nodes/sop/uvlayout", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvlayout"}, ") to maximize coverage."]}, {"indent": 0, "type": "para", "text": ["You can use the tools in this node (cut, join, pin, align, straighten) to give the node hints to help it give better results."]}], "indent": 0, "level": 2, "text": ["Overview"], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "text": ["By default, the Houdini viewer only shows one view, the Perspective view (\"Persp\"). You can  "]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": ["To switch a viewport to show UV space, click the View menu (the left menu in the top right corner of a viewport) and choose ", {"text": ["Set view \u25b8 UV Viewport"], "type": "ui"}, ", or hover the mouse over the viewport and press ", {"keys": ["Space", "5"], "text": null, "type": "keys"}, "."]}, {"body": [{"indent": 8, "type": "para", "text": ["To set how the viewer is split, click the ", {"text": "", "fullpath": "/nodes/sop/VIEW/layout_single", "scheme": "Icon", "type": "link", "value": "VIEW/layout_single"}, " layout menu icon at the far right end of the viewer tool, then select a layout such as ", {"text": "", "fullpath": "/nodes/sop/VIEW/layout_quad", "scheme": "Icon", "type": "link", "value": "VIEW/layout_quad"}, " \"Four views\" or ", {"text": "", "fullpath": "/nodes/sop/VIEW/layout_tall2", "scheme": "Icon", "type": "link", "value": "VIEW/layout_tall2"}, " \"Two views side-by-side\"."]}, {"indent": 8, "type": "para", "text": ["Then you can switch one of the views to show UVs (see above)."]}], "indent": 0, "blevel": 2, "type": "bullet", "text": ["The Scene View can be split into multiple viewports. You may want to split the viewer so you can see/work on the 3D model in the Perspective view and the UVs in the UV View at the same time."]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 2, "text": ["Set up the viewer to show UVs"], "container": true, "type": "h", "id": "views"}, {"body": [{"body": [{"body": [{"body": [{"indent": 8, "blevel": 10, "type": "ord", "text": ["You should ", {"fragment": "#views", "text": ["set up the viewer"], "value": "#views", "fullpath": "/nodes/sop/uvflatten#views", "scheme": null, "type": "link"}, " to show a UV view."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Select the geometry you want to flatten in texture space."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["On the ", {"text": ["Texture"], "type": "ui"}, " shelf tab, click the ", {"text": "", "fullpath": "/nodes/sop/SOP/uvflatten", "scheme": "Icon", "type": "link", "value": "SOP/uvflatten"}, " UV Flatten tool."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Use the controls in the operation toolbar (across the top of the viewer) or in the parameter editor to change how the node works."]}], "container": true, "type": "ord_group"}, {"indent": 8, "type": "para", "text": [{"text": ["Note"], "type": "strong"}, " most geometry will flatten into self-overlapping pieces at first. For example, if you apply UV Flatten to a torus, the node will simply project the top and bottom of the torus down on top of each other in the UV plane. You need to ", {"fragment": "#seams", "text": ["cut UV seams"], "value": "#seams", "fullpath": "/nodes/sop/uvflatten#seams", "scheme": null, "type": "link"}, " to allow the node to \"unwrap\" separate 3D pieces into non-overlapping flat pieces."]}], "indent": 0, "role": "item", "type": "task", "text": [" Use UV Flatten to lay out a model\u2019s texture space"]}, {"body": [{"indent": 8, "type": "para", "text": ["If you ever press ", {"keys": ["Esc"], "text": null, "type": "keys"}, " to switch to the View tool, or switch to a different node, the viewer will switch to show the interface for the new tool."]}, {"indent": 8, "type": "para", "text": ["To get the UV Flatten interface back, select the UV Flatten node in the network editor, then click the ", {"text": "", "fullpath": "/nodes/sop/TOOLS/handles", "scheme": "Icon", "type": "link", "value": "TOOLS/handles"}, " Handles tool or press ", {"keys": ["Enter"], "text": null, "type": "keys"}, " in the viewer."]}], "indent": 0, "role": "item", "type": "task", "text": [" Show the UV Flatten interface back in the viewer again"]}, {"body": [{"indent": 8, "type": "para", "text": ["When the UV Flatten tool is active, it shows a box handle in the UV view around the 0,0 to 1,1 area. The node packs flattened pieces within this are. You can drag the corners or sides of the box to change the size/shape of the packing area. You can also use the ", {"text": ["Center"], "type": "ui"}, " and ", {"text": ["Size"], "type": "ui"}, " parameters to set the box\u2019s coordinates exactly."]}, {"indent": 8, "type": "para", "text": ["This is useful if you need to avoid existing UV islands already in the ", {"text": ["UV attribute"], "type": "ui"}, ", or if you want to pack the pieces into a UV area other than 0,0 to 1,1."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["If you've ", {"fragment": "#pins", "text": ["pinned"], "value": "#pins", "fullpath": "/nodes/sop/uvflatten#pins", "scheme": null, "type": "link"}, " any pieces, they won\u2019t move/resize when you change the packing area."]}], "indent": 8, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 0, "role": "item", "type": "task", "text": [" Specify the area to pack into"]}], "container": true, "role": "item_group", "type": "task_group"}], "indent": 0, "level": 2, "text": ["Using the UV Flatten tool"], "container": true, "type": "h", "id": "howto"}, {"body": [{"indent": 0, "type": "para", "text": ["You will usually need to manually specify seams along which to cut the model into texture pieces or ", {"text": ["islands"], "type": "em"}, ". You will usually need to cut geometry into at least a few pieces to prevent them from overlapping when flattened."]}, {"body": [{"body": [{"body": [{"indent": 8, "blevel": 10, "type": "ord", "text": ["Click the ", {"text": "", "fullpath": "/nodes/sop/BUTTONS/texture_cut_seams", "scheme": "Icon", "type": "link", "value": "BUTTONS/texture_cut_seams"}, " Cut icon in the operation toolbar (across the top of the viewer)."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Whether ", {"fragment": "#secure", "text": ["secure selection"], "value": "#secure", "fullpath": "/nodes/sop/uvflatten#secure", "scheme": null, "type": "link"}, " is on or off changes how the cut tool works. See ", {"fragment": "#secure", "text": ["secure selection"], "value": "#secure", "fullpath": "/nodes/sop/uvflatten#secure", "scheme": null, "type": "link"}, " below."]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": [" Cut seams interactively in the UV Flatten tool"]}, {"body": [{"indent": 8, "type": "para", "text": ["If the geometry has an ", {"text": ["edge group"], "fullpath": "/model/groups", "scheme": null, "type": "link", "value": "/model/groups"}, " named ", {"text": ["seams"], "type": "code"}, ", the node will automatically cut seams along those edges."]}, {"indent": 8, "type": "para", "text": ["For example, you can create an edge group using the ", {"text": ["Group node"], "fullpath": "/nodes/sop/group", "scheme": "Node", "type": "link", "value": "/nodes/sop/group"}, ":"]}, {"body": [{"indent": 8, "blevel": 10, "type": "ord", "text": ["Before using UV Flatten, click the ", {"text": "", "fullpath": "/nodes/sop/TOOLS/select_component", "scheme": "Icon", "type": "link", "value": "TOOLS/select_component"}, " Select tool, and right-click the ", {"text": "", "fullpath": "/nodes/sop/TOOLS/select_edges", "scheme": "Icon", "type": "link", "value": "TOOLS/select_edges"}, " component select mode icon and choose Edges (or press ", {"keys": ["3"], "text": null, "type": "keys"}, ")."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Select edges on the model that should separate texture pieces."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Use the ", {"keys": ["Tab"], "text": null, "type": "keys"}, " menu to add a ", {"text": ["Group node"], "fullpath": "/nodes/sop/group", "scheme": "Node", "type": "link", "value": "/nodes/sop/group"}, ". In the parameter editor, set the ", {"text": ["Base group"], "type": "ui"}, " name to ", {"text": ["seams"], "type": "code"}, "."]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": [" Cut seams by selecting them ", {"text": ["before"], "type": "em"}, " using UV Flatten"]}, {"body": [{"body": [{"indent": 8, "blevel": 10, "type": "ord", "text": ["Click the ", {"text": "", "fullpath": "/nodes/sop/BUTTONS/texture_merge_seams", "scheme": "Icon", "type": "link", "value": "BUTTONS/texture_merge_seams"}, " Join icon in the operation toolbar (across the top of the viewer)."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Whether ", {"fragment": "#secure", "text": ["secure selection"], "value": "#secure", "fullpath": "/nodes/sop/uvflatten#secure", "scheme": null, "type": "link"}, " is on or off changes how the join tool works. See ", {"fragment": "#secure", "text": ["secure selection"], "value": "#secure", "fullpath": "/nodes/sop/uvflatten#secure", "scheme": null, "type": "link"}, " below."]}], "container": true, "type": "ord_group"}, {"indent": 8, "type": "para", "text": ["This tool \"un-cuts\" edges that were seams (edges in the ", {"text": ["seams"], "type": "code"}, " group or edges that you cut interactively). You only need to click/select one side of the \"split\" in the UV view and both sides will join together. You can\u2019t use this tool to join edges that are boundaries in the 3D model."]}, {"indent": 8, "type": "para", "text": ["When you start joining edges, it may get hard to see/click individual edges as the flattened pieces starts to overlap itself. You may find it easier to click/select edges in the 3D Perspective view than the UV view."]}], "indent": 0, "role": "item", "type": "task", "text": [" Join seams back together"]}, {"body": [{"indent": 8, "type": "para", "text": ["Click the ", {"text": ["Repack"], "type": "ui"}, " button in the operation toolbar (across the top of the viewer)."]}], "indent": 0, "role": "item", "type": "task", "text": [" Repack the pieces taking into account new seams"]}], "container": true, "role": "item_group", "type": "task_group"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": ["You can click edges in the UV view or the 3D views."]}, {"body": [{"indent": 8, "type": "para", "text": ["When you click ", {"text": ["Repack"], "type": "ui"}, ", the node will move seams from ", {"text": ["Post-packing"], "type": "ui"}, " to ", {"text": ["Applied to packing"], "type": "ui"}, " (so they will affect the layout), and clear ", {"text": ["Post-packing"], "type": "ui"}, "."]}], "indent": 0, "blevel": 2, "type": "bullet", "text": ["The node has two parameters for holding seams: ", {"text": ["Applied to packing"], "type": "ui"}, " and ", {"text": ["Post-packing"], "type": "ui"}, ". This is to accomodate interactive seam cutting. When you interactively cut seams, the new seams are added to the ", {"text": ["Post-packing"], "type": "ui"}, " parameter. These seams affect ", {"text": ["flattening"], "type": "em"}, " (the shape of the piece will change as you cut), but not ", {"text": ["layout"], "type": "em"}, " (the node will not re-pack all the pieces in different positions as you cut)."]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["Island boundary edges are bright green in the UV view. \"New\" seams (in the ", {"text": ["Post-packing"], "type": "ui"}, " parameter) have a thicker line."]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 3, "text": ["Tips"], "container": true, "type": "h", "id": "seam_tips"}, {"body": [{"indent": 0, "type": "para", "text": ["The cut and join tools work slightly differently based on whether ", {"fragment": "#secure", "text": ["secure selection mode"], "value": "/basics/select#secure", "fullpath": "/basics/select#secure", "scheme": null, "type": "link"}, " is on or off. When secure selection is ", {"text": ["off"], "type": "strong"}, ", clicking edges cuts/joins them instantly. When secure selection is ", {"text": ["on"], "type": "strong"}, ", you select one or more edges and press ", {"keys": ["Enter"], "text": null, "type": "keys"}, " to cut/join them all at once."]}, {"indent": 0, "type": "para", "text": ["To toggle secure selection, right-click the ", {"text": "", "fullpath": "/nodes/sop/TOOLS/select", "scheme": "Icon", "type": "link", "value": "TOOLS/select"}, {"text": "", "fullpath": "/nodes/sop/TOOLS/select_component", "scheme": "Icon", "type": "link", "value": "TOOLS/select_component"}, " Select tool and turn ", {"text": ["Secure selection"], "type": "ui"}, " on or off in the menu (or press ", {"keys_for": "h.pane.gview.secureselection", "keys": ["Shift", "~"], "type": "keys"}, "). However you should remember that secure selection mode changes how selection works ", {"text": ["in all tools"], "type": "strong"}, ". See ", {"fragment": "#secure", "text": ["the documentation for secure selection"], "value": "/basics/select#secure", "fullpath": "/basics/select#secure", "scheme": null, "type": "link"}, " for more information."]}], "indent": 0, "level": 3, "text": ["Cut/join and secure selection"], "container": true, "type": "h", "id": "secure"}], "indent": 0, "level": 2, "text": ["Creating seams"], "container": true, "type": "h", "id": "seams"}, {"body": [{"indent": 0, "type": "para", "text": [{"text": ["Pinning"], "type": "em"}, " a vertex locks it to the pin\u2019s UV coordinates. When the node recomputes flattening and layout, the vertex will stay in place. (You can however move the vertex manually by moving the pin.)"]}, {"body": [{"body": [{"body": [{"indent": 8, "blevel": 10, "type": "ord", "text": ["Click the ", {"text": "", "fullpath": "/nodes/sop/DOP/constraint", "scheme": "Icon", "type": "link", "value": "DOP/constraint"}, " Pin icon in the operation toolbar (across the top of the viewer)."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Select one or more vertices in the UV view to turn into pins, then press Enter."]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": [" Pin vertices in place"]}, {"body": [{"body": [{"indent": 8, "blevel": 10, "type": "ord", "text": ["Click the ", {"text": "", "fullpath": "/nodes/sop/DOP/constraint", "scheme": "Icon", "type": "link", "value": "DOP/constraint"}, " Pin icon in the operation toolbar (across the top of the viewer)."]}, {"body": [{"indent": 16, "type": "para", "text": ["A move handle appears on the pin."]}], "indent": 8, "blevel": 10, "type": "ord", "text": ["Click an existing pin."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Drag the handle to move the pin."]}], "container": true, "type": "ord_group"}, {"body": [{"indent": 8, "blevel": 10, "type": "bullet", "text": ["You can move an island by putting a pin in the island and dragging the pin around in texture space."]}, {"indent": 8, "blevel": 10, "type": "bullet", "text": ["You can rotate an island by putting ", {"text": ["two"], "type": "em"}, " pins in the island and dragging one pin around the other."]}], "container": true, "type": "bullet_group"}], "indent": 0, "role": "item", "type": "task", "text": [" Move a pin"]}, {"body": [{"body": [{"indent": 8, "blevel": 10, "type": "ord", "text": ["Click the ", {"text": "", "fullpath": "/nodes/sop/DOP/constraint", "scheme": "Icon", "type": "link", "value": "DOP/constraint"}, " Pin icon in the operation toolbar (across the top of the viewer)."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Click an existing pin."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Press ", {"keys": ["Delete"], "text": null, "type": "keys"}, "."]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": [" Delete a pin"]}], "container": true, "role": "item_group", "type": "task_group"}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["You must have the Pin mode selected to work with pins. For example, if you are in the Cut mode and click a pin, the tool will cut the edge under the pin."]}], "indent": 0, "role": "item", "type": "tip"}], "container": true, "role": "item_group", "type": "tip_group"}], "indent": 0, "level": 2, "text": ["Pinning vertices"], "container": true, "type": "h", "id": "pins"}, {"body": [{"indent": 0, "type": "para", "text": ["You can tell the node that you want certain groups of edges to be straight, or to be aligned with the UV grid. The node will take these hints into account when it re-flattens the texture pieces."]}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["Edges may not become completely straight or axis-aligned if those hints conflict with other constraints, such as ", {"fragment": "#pins", "text": ["pins"], "value": "#pins", "fullpath": "/nodes/sop/uvflatten#pins", "scheme": null, "type": "link"}, ". Removing the other constraint(s) will cause the node to re-flatten with better straightening/alignment."]}], "indent": 0, "role": "item", "type": "tip"}], "container": true, "role": "item_group", "type": "tip_group"}, {"body": [{"body": [{"body": [{"indent": 8, "blevel": 10, "type": "ord", "text": ["Click the ", {"text": "", "fullpath": "/nodes/sop/BUTTONS/texture_straighten", "scheme": "Icon", "type": "link", "value": "BUTTONS/texture_straighten"}, " Straighten icon in the operation toolbar (across the top of the viewer). This mode is only available when the ", {"text": ["Flattening method"], "type": "ui"}, " is \"Angle-based (ABF)\"."]}, {"body": [{"indent": 16, "type": "para", "text": ["The node will remember that you want these edges to be straight when it re-flattens the texture piece."]}], "indent": 8, "blevel": 10, "type": "ord", "text": ["Select some contiguous edges, then press ", {"keys": ["Enter"], "text": null, "type": "keys"}, "."]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": [" Straighten edges (ABF only)"]}, {"body": [{"body": [{"indent": 8, "blevel": 10, "type": "ord", "text": ["Click the ", {"text": "", "fullpath": "/nodes/sop/BUTTONS/texture_align", "scheme": "Icon", "type": "link", "value": "BUTTONS/texture_align"}, " Align icon in the operation toolbar (across the top of the viewer)."]}, {"indent": 8, "blevel": 10, "type": "ord", "text": ["Select the vertices you want to align with each other, then press ", {"keys": ["Enter"], "text": null, "type": "keys"}, "."]}, {"body": [{"indent": 16, "type": "para", "text": ["If you want to align in V (vertically) instead, the current interface is less than ideal. First, expand the ", {"text": ["Axis aligned vertex groups"], "type": "ui"}, " heading in the parameter editor. Find the alignment constraint you just created at the end of the list of constraints under the heading. Change the ", {"text": ["Align parallel to"], "type": "ui"}, " parameter for that constraint to \"V Axis\"."]}, {"indent": 16, "type": "para", "text": ["This should be fixed in a future release."]}], "indent": 8, "blevel": 10, "type": "ord", "text": ["Currently the tool aligns in U (horizontally) by default. "]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": [" Align vertices to the U or V axis"]}, {"body": [{"indent": 8, "type": "para", "text": ["Click the ", {"text": ["Repack"], "type": "ui"}, " button in the operation toolbar (across the top of the viewer)."]}], "indent": 0, "role": "item", "type": "task", "text": [" Repack the pieces taking into account new straighten/align constraints"]}], "container": true, "role": "item_group", "type": "task_group"}], "indent": 0, "level": 2, "text": ["Aligning and straightening"], "container": true, "type": "h", "id": "align"}, {"body": [{"indent": 0, "type": "para", "text": ["???"]}], "indent": 0, "level": 2, "text": ["Visualize UV space distortion"], "container": true, "type": "h", "id": "visualize"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "text": ["The polygonal faces to flatten in texture space. If this is empty, the node works on all incoming polygons. You can enter the name of a ", {"text": ["group"], "fullpath": "/model/groups", "scheme": null, "type": "link", "value": "/model/groups"}, " here or specify polygons ", {"fragment": "#manual", "text": ["by number"], "value": "/model/groups#manual", "fullpath": "/model/groups#manual", "scheme": null, "type": "link"}, ". Click the ", {"text": "", "fullpath": "/nodes/sop/BUTTONS/reselect", "scheme": "Icon", "type": "link", "value": "BUTTONS/reselect"}, " Reselect button next to this field to select different polygons in the viewer."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Group"]}, {"body": [{"indent": 8, "type": "para", "text": ["The name of the attribute to store the UV coordinates (", {"text": ["uv"], "type": "code"}, " by default). You can enter a different name if you want to have multiple sets of UVs on the same geometry."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["UV Attribute"]}, {"body": [{"indent": 8, "type": "para", "text": ["How to flatten 3D geometry into 2D texture space. The node has two different methods that allow different hints (constraints) and have different efficiencies. Both methods are designed to minimize ", {"text": ["angular distortion"], "type": "em"}, ", meaning that angles in the texture image should appear correct when projected onto the textured 3D surface. The methods differ mainly in how to handle ", {"text": ["area distortion"], "type": "em"}, ", that is keeping polygons roughly the same size in texture space."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["The default. Tends to be faster than ABF. Allows preserving island shapes. Allows aligning selected edges to UV grid."]}], "indent": 8, "type": "dt", "text": ["Spectral (SCP)"]}, {"body": [{"indent": 16, "type": "para", "text": ["Slightly slower than SCP but produces less area distortion. Allows straightening of edge groups and quad patches."]}], "indent": 8, "type": "dt", "text": ["Angle Based (ABF)"]}], "container": true, "type": "dt_group"}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Flattening Method"]}, {"body": [{"indent": 8, "type": "para", "text": ["What to do with existing texture pieces if there are already texture coordinates in the ", {"text": ["UV attribute"], "type": "ui"}, "."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["Don\u2019t use the existing coordinates, overwrite them with new coordinates computed by this node\u2019s layout and flattening steps."]}], "indent": 8, "type": "dt", "text": ["Ignore"]}, {"body": [{"indent": 16, "type": "para", "text": ["Treat the boundaries of existing texture pieces as seams, but re-flatten and re-pack the pieces."]}], "indent": 8, "type": "dt", "text": ["Keep Seams Only"]}, {"body": [{"indent": 16, "type": "para", "text": ["Keep the boundaries ", {"text": ["and positions/rotations"], "type": "em"}, " of existing texture pieces."]}], "indent": 8, "type": "dt", "text": ["Keep Seams and Packing"]}], "container": true, "type": "dt_group"}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Existing UVs"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "text": [" Seam Edges "], "type": "sep", "level": 4}, {"indent": 0, "type": "para", "text": ["See ", {"fragment": "#seam_tips", "text": ["seam tips"], "value": "#seam_tips", "fullpath": "/nodes/sop/uvflatten#seam_tips", "scheme": null, "type": "link"}, " above for an explaination of ", {"text": ["Applied to packing"], "type": "ui"}, " and ", {"text": ["Post-packing"], "type": "ui"}, "."]}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["These seams are taken into account when laying out the pieces. This is separate from ", {"text": ["Post-packing"], "type": "ui"}, " to allow interactive seam cutting. Click ", {"text": ["Repack"], "type": "ui"}, " to move ", {"text": ["Post-packing"], "type": "ui"}, " seams into this parameter and lay out the islands taking into account all seams."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Applied to Packing"]}, {"body": [{"indent": 8, "type": "para", "text": ["These seams are ignored when laying out the pieces, and only used for flattening. This is separate from ", {"text": ["Applied to packing"], "type": "ui"}, " to allow interactive seam cutting. Click ", {"text": ["Repack"], "type": "ui"}, " to move these seams into the ", {"text": ["Applied to packing"], "type": "ui"}, " parameter and lay out the islands taking into account all seams."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Post-Packing"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "text": [" Layout Box "], "type": "sep", "level": 4}, {"indent": 0, "type": "para", "text": ["Controls the area of texture space within which the node will try to pack the texture pieces. You can use these parameters to position the area exactly, or drag the corners or sides of the box handle in the UV view when this node is active."]}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["The center of the packing area, as UV coordinates."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Center"]}, {"body": [{"indent": 8, "type": "para", "text": ["The width and height of the packing area, in UV units."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Size"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "text": [" Constraints "], "type": "sep", "level": 4}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["Freezes the shapes of the any texture pieces that already exist in the ", {"text": ["UV attribute"], "type": "ui"}, ", so the flattening step will only affect their interiors. The layout step may still move and/or rotate the pieces."]}, {"body": [{"indent": 8, "type": "para", "text": ["You can use UV Flatten with this option to relax existing UVs. In this case, you can set ", {"text": ["Existing UVs"], "type": "ui"}, " to \"Keep Seams and Packing\" to prevent the node from moving the pieces."]}], "indent": 4, "type": "para", "text": ["Only available when ", {"text": ["Flattening method"], "type": "ui"}, " is \"Spectral (SCP)\"."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Preserve Shape of Existing Island Boundaries (SCP only)"]}, {"body": [{"indent": 8, "type": "para", "text": ["When islands of quads have close-to-straight sides, try to straighten them while minimizing distortion."]}], "indent": 0, "text": ["Straighten Boundaries"], "role": "item", "attrs": {"id": "straightenboundary"}, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "text": ["When islands of quads have close-to-straight interior edges, try to straighten them while minimizing distortion."]}, {"indent": 4, "type": "para", "text": ["Only available when ", {"text": ["Flattening method"], "type": "ui"}, " is \"Angle based (ABF)\"."]}], "indent": 0, "text": ["Straighten Inner Grid Lines (ABF only)"], "role": "item", "attrs": {"id": "straighteninterior"}, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "text": ["When islands of quads look rectangular (four sides with quads in regular rows and columns), try to reshape them into UV-aligned rectanglar grids. Only available when ", {"text": ["Flattening method"], "type": "ui"}, " is \"Angle based (ABF)\"."]}], "indent": 0, "text": ["Rectangularize (ABF only)"], "role": "item", "attrs": {"id": "orthogonalize"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "text": [" Vertex pins "], "type": "sep", "level": 4}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["A \"master switch\" to enable or disable all pins."]}], "indent": 0, "text": ["Enable pins"], "role": "item", "attrs": {"id": "usepins"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "type": "para", "text": ["This section contains a multiparameter where each item corresponds to a pin. You can edit the pins by changing the parameters but it is usually easier to change them interactively. See ", {"fragment": "#pins", "text": ["pinning vertices"], "value": "#pins", "fullpath": "/nodes/sop/uvflatten#pins", "scheme": null, "type": "link"}, " above."]}, {"indent": 0, "text": [" Axis-Aligned Vertex Groups "], "type": "sep", "level": 4}, {"body": [{"body": [], "indent": 0, "text": ["Enable Axis Alignment"], "role": "item", "attrs": {"id": "usealignments"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "type": "para", "text": ["This section contains a multiparameter where each item corresponds to an alignment constraint. You can delete individual constraints here. See ", {"fragment": "#align", "text": ["aligning edges"], "value": "#align", "fullpath": "/nodes/sop/uvflatten#align", "scheme": null, "type": "link"}, " above."]}, {"indent": 0, "text": [" Straightened Loops (ABF only) "], "type": "sep", "level": 4}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["A \"master switch\" to enable or disable all pins."]}], "indent": 0, "text": ["Enable Loop Straightening"], "role": "item", "attrs": {"id": "usestraightenings"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "type": "para", "text": ["This section contains a multiparameter where each item corresponds to a straightening constraint. You can delete individual constraints here. See ", {"fragment": "#align", "text": ["straightening edges"], "value": "#align", "fullpath": "/nodes/sop/uvflatten#align", "scheme": null, "type": "link"}, " above."]}, {"indent": 0, "type": "para", "text": [""]}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/shade/textures", "scheme": null, "type": "link", "value": "/shade/textures"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/uvproject", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvproject"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/uvquickshade", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvquickshade"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/texture", "scheme": "Node", "type": "link", "value": "/nodes/sop/texture"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/uvpelt", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvpelt"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/uvunwrap", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvunwrap"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/uvlayout", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvlayout"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "container": true, "type": "related_section", "id": "related"}], "summary": ["Creates flattened pieces in texture space from 3D geometry."], "type": "root", "attrs": {"version": "2.0", "tags": "uvs, textures", "namespace": null, "internal": "uvflatten", "context": "sop", "type": "node", "icon": "SOP/uvflatten"}, "title": ["UV Flatten"]}