{"body": [{"indent": 0, "text": ["VDB from Particles"], "type": "title", "level": 0}, {"indent": 0, "type": "summary", "text": ["Converts point clouds and/or point attributes into VDB volume primitives."]}, {"type": "para", "indent": 0, "text": ["See ", {"text": ["volumes"], "fullpath": "/model/volumes", "scheme": null, "type": "link", "value": "/model/volumes"}, " for an explanation of standard volumes and OpenVDB volumes."]}, {"indent": 0, "type": "para", "text": ["This node can create a distance field (signed (SDF) or unsigned) and/or a density (fog) field."]}, {"indent": 0, "type": "para", "text": ["Since VDB primitives only store the voxels around each point, they can have a much a higher effective resolution than creating a standard Houdini volume."]}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["This node uses the point scale attribute (", {"text": ["pscale"], "type": "code"}, ") on the input points to convert them to spherical densities.\n    This attribute is set by the ", {"text": ["Attribute POP"], "fullpath": "/nodes/pop/attribute", "scheme": "Node", "type": "link", "value": "/nodes/pop/attribute"}, " or the ", {"text": ["Point SOP"], "fullpath": "/nodes/sop/point", "scheme": "Node", "type": "link", "value": "/nodes/sop/point"}, "."]}, {"indent": 4, "type": "para", "text": ["If points are smaller than 1.5 voxels, they cannot be resolved and will not appear in the VDB."]}, {"indent": 4, "type": "para", "text": ["You can also scale all sizes using the ", {"text": ["Point radius scale"], "type": "ui"}, " parameter."]}], "indent": 0, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}, {"indent": 0, "type": "para", "text": ["You can connect a VDB to the second input to automatically use that VDB\u2019s orientation and voxel size (see the ", {"text": ["Reference VDB"], "type": "ui"}, " parameter)."]}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["The size of voxels in the generated VDB volume primitive.\n    Points smaller than this cannot be resolved by the VDB so will not be in the output."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Voxel Size"]}, {"body": [{"indent": 4, "type": "para", "text": ["If the second input is connected, you can enter the name of a VDB primitive in the second input to copy the orientation and voxel size from it."]}, {"indent": 4, "type": "para", "text": ["See ", {"fragment": "#group", "text": ["specifying volumes"], "value": "/model/volumes#group", "fullpath": "/model/volumes#group", "scheme": null, "type": "link"}, "."]}], "indent": 0, "text": ["Reference VDB"], "role": "item", "attrs": {"id": "group"}, "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "type": "para", "text": [""]}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["Create a distance field VDB, where each voxel stores the distance to the nearest point."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Distance VDB"]}, {"body": [{"indent": 4, "type": "para", "text": ["Creates a density field, where a voxel is ", {"text": ["1"], "type": "code"}, " inside a point (that is, the sphere centered around the point with radius defined by the point\u2019s ", {"text": ["pscale"], "type": "code"}, " attribute), and ", {"text": ["0"], "type": "code"}, " outside."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Fog VDB"]}, {"body": [{"indent": 4, "type": "para", "text": ["Create a mask field VDB."]}, {"indent": 4, "type": "para", "text": ["Generate an alpha mask that is very useful for subsequent constrained level\n    set smoothing of the level set surface from the particles. This alpha mask\n    is defined as the fog volume derived from the CSG difference between a\n    level set surface with a maximum radius of the particles and a level set\n    surface with a minimum radius of the particles. This mask will guarentee\n    that subsequent level set smoothing is constrained between the min/max\n    surfaces thus avoiding the problem that surface details can be completely\n    smoothed away."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Mask VDB"]}, {"body": [{"indent": 4, "type": "para", "text": ["You can generate additional VDB primitives that store the values of point ", {"text": ["attributes"], "fullpath": "/model/attributes", "scheme": null, "type": "link", "value": "/model/attributes"}, ".\n    Only voxels near the points will be set."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Point Attributes"]}, {"body": [{"indent": 4, "type": "para", "text": ["A point attribute to create a VDB from."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Attribute"]}, {"body": [{"type": "para", "indent": 4, "text": ["A new name for the generated VDB primitive storing the attribute values.\n    Leave this blank to use the attribute name."]}], "indent": 0, "text": ["VDB Name"], "role": "item", "attrs": {"id": "attributevdbname"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["How vector values should be interpreted."]}], "indent": 0, "text": ["Vector Type"], "role": "item", "attrs": {"id": "vectype"}, "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "text": ["Multiply the particle size (", {"text": ["pscale"], "type": "code"}, " attribute) by this amount before converting."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Point Radius Scale"]}, {"body": [{"indent": 4, "type": "para", "text": ["Points with radius less than this number of voxels are ignored.\n    Points with radius smaller than 1.5 voxels will likely cause aliasing artifacts, so you should not set this lower than ", {"text": ["1.5"], "type": "code"}, "."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Minimum Radius in Voxels"]}, {"body": [{"indent": 4, "type": "para", "text": ["After building the VDB grid there may be undetected constant tiles. Enable\n    this to detect constant regions and collapse them. This option only has an\n    effect if the particles are larger then the leaf nodes so it is normally\n    recommended to leave it disabled."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Prune"]}, {"body": [{"indent": 4, "type": "para", "text": ["Use this scaling parameter to adjust the width of the generated mask VDB."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Mask Width Scale"]}, {"body": [{"indent": 4, "type": "para", "text": ["Sets whether ", {"text": ["Half-band"], "type": "ui"}, " is specified in Houdini units.\n    When this option is off, the half-band parameter is in voxels."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Use World Space for Band"]}, {"body": [{"indent": 4, "type": "para", "text": ["How many voxels outside the point sphere to fill in the generated VDB (when ", {"text": ["Use world space for band"], "type": "ui"}, " is off)."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Half-Band Voxels"]}, {"body": [{"indent": 4, "type": "para", "text": ["How many Houdini units outside the point sphere to fill in the generated VDB (when ", {"text": ["Use world space for band"], "type": "ui"}, " is on)."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Half-Band"]}, {"body": [{"indent": 4, "type": "para", "text": ["If a reference VDB is specified, the new particles will be unioned into\n    that signed distance field.  This allows one to use the particles to only\n    specify the surface detail, but have a coarse, offset, grid used for the\n    main bulk."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Merge With Reference VDB"]}, {"body": [{"indent": 4, "type": "para", "text": ["The shape of the densities created from points when ", {"text": ["Fog VDB"], "type": "ui"}, " is on."]}, {"body": [{"body": [{"indent": 8, "type": "para", "text": ["Create spheres centered on the point with radius defined by the point scale attribute (", {"text": ["pscale"], "type": "code"}, ")."]}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/vdb_points.png", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/vdb_points.png"}]}], "indent": 4, "type": "dt", "text": ["Spherical"]}, {"body": [{"indent": 8, "type": "para", "text": ["Create ", {"text": ["multiple spheres"], "type": "em"}, " trailing off in the direction of the point\u2019s velocity attribute (", {"text": ["v"], "type": "code"}, ").\n        This may be useful for visualization."]}, {"indent": 8, "type": "para", "text": [{"text": "", "fullpath": "/images/nodes/sop/vdb_velocity_trails.png", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/vdb_velocity_trails.png"}]}], "indent": 4, "type": "dt", "text": ["Velocity trail"]}], "container": true, "type": "dt_group"}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Particle Footprint"]}, {"body": [{"indent": 4, "type": "para", "text": ["When ", {"text": ["Particle footprint"], "type": "ui"}, " is \"Velocity trail\", this scales the length of the trail relative to the point velocity attribute (", {"text": ["v"], "type": "code"}, ")."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Velocity Multiplier"]}, {"body": [{"indent": 4, "type": "para", "text": ["When ", {"text": ["Particle footprint"], "type": "ui"}, " is \"Velocity trail\", how far apart to space the spheres in the trail."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Velocity Spacing"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "text": ["The point geometry to convert."]}], "indent": 0, "type": "dt", "text": ["Particles to convert"]}, {"body": [{"indent": 4, "type": "para", "text": ["If connected, this node copies the orientation and voxel size from a VDB primitive in this input."]}], "indent": 0, "type": "dt", "text": ["Optional reference VDB"]}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": "Inputs", "role": "section", "container": true, "type": "inputs_section", "id": "inputs"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/vdb", "scheme": "Node", "type": "link", "value": "/nodes/sop/vdb"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/vdbfrompolygons", "scheme": "Node", "type": "link", "value": "/nodes/sop/vdbfrompolygons"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": [{"text": "", "fullpath": "/nodes/sop/isooffset", "scheme": "Node", "type": "link", "value": "/nodes/sop/isooffset"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "container": true, "type": "related_section", "id": "related"}], "title": ["VDB from Particles"], "summary": ["Converts point clouds and/or point attributes into VDB volume primitives."], "attrs": {"version": null, "tags": "create, model", "namespace": null, "internal": "vdbfromparticles", "context": "sop", "type": "node", "icon": "SOP/vdbfromparticles"}, "included": ["/nodes/sop/vdbfrompolygons", "/nodes/sop/volume_types"], "type": "root"}